{% extends "store/base.html" %}
{% load static %}

{% block title %}Sign Up â€“ WalkEase{% endblock %}
{% this_will_break %}

{% block content %}
  <main class="signup-form-container">
    <h1>Create an Account</h1>

    {# global messages #}
    {% if messages %}
      <ul class="messages">
      {% for msg in messages %}
        <li class="{{ msg.tags }}">{{ msg }}</li>
      {% endfor %}
      </ul>
    {% endif %}

    {# non-field errors (e.g. password mismatch) #}
    {% if form.non_field_errors %}
      <ul class="errorlist">
      {% for e in form.non_field_errors %}
        <li>{{ e }}</li>
      {% endfor %}
      </ul>
    {% endif %}

    <form method="POST" action="{% url 'account_signup' %}">
      {% csrf_token %}

      <div class="form-group">
        {{ form.username.label_tag }}
        {{ form.username }}
        {% for err in form.username.errors %}
          <p class="error">{{ err }}</p>
        {% endfor %}
      </div>

      <div class="form-group">
        {{ form.email.label_tag }}
        {{ form.email }}
        {% for err in form.email.errors %}
          <p class="error">{{ err }}</p>
        {% endfor %}
      </div>

      <div class="form-group">
        {{ form.password1.label_tag }}
        {{ form.password1 }}
        {% for err in form.password1.errors %}
          <p class="error">{{ err }}</p>
        {% endfor %}
      </div>

      <div class="form-group">
        {{ form.password2.label_tag }}
        {{ form.password2 }}
        {% for err in form.password2.errors %}
          <p class="error">{{ err }}</p>
        {% endfor %}
      </div>

      <button type="submit">Sign Up</button>
    </form>

    <p class="alternate">
      Already have an account?
      <a href="{% url 'account_login' %}">Sign In</a>
    </p>
  </main>
{% endblock %}
